<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Othello Finale: move.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Othello Finale
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Jeu Othello, Intelligence Artificielle, Algorithme Génétique</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">move.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="move_8h_source.html">move.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaae17aaca501d0bf92b5c250ba16ec5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_move.html">Move</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8c.html#aaae17aaca501d0bf92b5c250ba16ec5f">create_move</a> (<a class="el" href="struct_othellier.html">Othellier</a> *oth, short position, short <a class="el" href="graphics_8h.html#a7e3662e10fcd0bb440a524366d7fbc27">color</a>)</td></tr>
<tr class="memdesc:aaae17aaca501d0bf92b5c250ba16ec5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates a new <a class="el" href="struct_move.html" title="Move structure. ">Move</a> using the parameters.  <a href="#aaae17aaca501d0bf92b5c250ba16ec5f">More...</a><br/></td></tr>
<tr class="separator:aaae17aaca501d0bf92b5c250ba16ec5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1426af904f937160dffd8ee06894049d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8c.html#a1426af904f937160dffd8ee06894049d">play_move</a> (<a class="el" href="struct_game.html">Game</a> *game, <a class="el" href="struct_move.html">Move</a> *mov)</td></tr>
<tr class="memdesc:a1426af904f937160dffd8ee06894049d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function makes a move action on the game board.  <a href="#a1426af904f937160dffd8ee06894049d">More...</a><br/></td></tr>
<tr class="separator:a1426af904f937160dffd8ee06894049d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a1b9bff531065b4030381023a2f4fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8c.html#a51a1b9bff531065b4030381023a2f4fa">move_processing</a> (<a class="el" href="struct_game.html">Game</a> *game, const char *coordinates, short intCoord)</td></tr>
<tr class="memdesc:a51a1b9bff531065b4030381023a2f4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tests if the coordinates of a move are legal, and plays the move corresponding if so.  <a href="#a51a1b9bff531065b4030381023a2f4fa">More...</a><br/></td></tr>
<tr class="separator:a51a1b9bff531065b4030381023a2f4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a65290fb945c2560d00ba99242358e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8c.html#a51a65290fb945c2560d00ba99242358e">cancel_last_move</a> (<a class="el" href="struct_game.html">Game</a> *game)</td></tr>
<tr class="memdesc:a51a65290fb945c2560d00ba99242358e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function cancel the last move played on the game board. If a move has already been canceled and there is still moves that can be canceled, the function does it as well.  <a href="#a51a65290fb945c2560d00ba99242358e">More...</a><br/></td></tr>
<tr class="separator:a51a65290fb945c2560d00ba99242358e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f329158406c80edaaae0457ff69adf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="move_8c.html#ae4f329158406c80edaaae0457ff69adf">uncancel_move</a> (<a class="el" href="struct_game.html">Game</a> *game)</td></tr>
<tr class="memdesc:ae4f329158406c80edaaae0457ff69adf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function uncancel the last move canceled on the game board. If a move has already been uncanceled and there is still moves that can be uncanceled, the function does it as well.  <a href="#ae4f329158406c80edaaae0457ff69adf">More...</a><br/></td></tr>
<tr class="separator:ae4f329158406c80edaaae0457ff69adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions related to the processing of a move during the game </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a51a65290fb945c2560d00ba99242358e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cancel_last_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function cancel the last move played on the game board. If a move has already been canceled and there is still moves that can be canceled, the function does it as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>: a pointer to the <a class="el" href="struct_game.html" title="Game structure. ">Game</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the last move has been canceled, 0 if there was no move to cancel</dd></dl>
<p>Tests whether there is still moves that can be canceled. If so, decrements the game cursor and recalculates the board from the beginning with all moves in the moves array, except the canceled ones </p>

</div>
</div>
<a class="anchor" id="aaae17aaca501d0bf92b5c250ba16ec5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_move.html">Move</a>* create_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_othellier.html">Othellier</a> *&#160;</td>
          <td class="paramname"><em>oth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates a new <a class="el" href="struct_move.html" title="Move structure. ">Move</a> using the parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oth</td><td>a pointer to the game board (<a class="el" href="struct_othellier.html" title="Othellier (game board) structure. ">Othellier</a> structure) </td></tr>
    <tr><td class="paramname">position</td><td>: the position of the move to initialize </td></tr>
    <tr><td class="paramname">color</td><td>: the color of the move to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the created move</dd></dl>
<p>The function allocates a new <a class="el" href="struct_move.html" title="Move structure. ">Move</a> structure and fills it with the parameters in argument. Fills the flip array calling <a class="el" href="othellier_8c.html#aeceed354867f9e3ea136a2b35c320ce9" title="This function updates the status of each cell of the flip array for a move. If there is an alignment...">update_flip()</a>, and returns the pointer. </p>

</div>
</div>
<a class="anchor" id="a51a1b9bff531065b4030381023a2f4fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int move_processing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>coordinates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>intCoord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function tests if the coordinates of a move are legal, and plays the move corresponding if so. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>: pointer to the <a class="el" href="struct_game.html" title="Game structure. ">Game</a> structure </td></tr>
    <tr><td class="paramname">coordinates</td><td>: string containing 2 characters : the first one must be the letter of the column and the second must be the number of the row where the player wants to play </td></tr>
    <tr><td class="paramname">intCoord</td><td>: the coordinates passed as an integer. If intCoord is UNDEFINED, the function uses the string coordinates. Otherwise, it uses the integer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the move as been played, BAD_COORDINATES if the coordinates don't have the right format, and NOT_LEGAL if the move is not legal</dd></dl>
<p>Tests if the coordinates are passed as a string or as an integer and uses the right format. Tests if the coordinates have the proper format, allocates and initializes a move, tests if this move with the position is legal, frees the end of the moves array to prohibit the cancellation of old canceled moves, plays the move, reallocates the moves array and update the game status (game board and game turn). </p>

</div>
</div>
<a class="anchor" id="a1426af904f937160dffd8ee06894049d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int play_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_move.html">Move</a> *&#160;</td>
          <td class="paramname"><em>mov</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function makes a move action on the game board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>: a pointer to the <a class="el" href="struct_game.html" title="Game structure. ">Game</a> structure </td></tr>
    <tr><td class="paramname">mov</td><td>: à pointer to a <a class="el" href="struct_move.html" title="Move structure. ">Move</a> action </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of fliped pawns on the game board</dd></dl>
<p>The function begins with adding a pawn on the desired position on the game board. Then, it increases the pawn number of the current player. Plus, for each direction, if there is a flip, it returns the pawns that have the opposite color and increases the pawn number too. </p>

</div>
</div>
<a class="anchor" id="ae4f329158406c80edaaae0457ff69adf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int uncancel_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_game.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function uncancel the last move canceled on the game board. If a move has already been uncanceled and there is still moves that can be uncanceled, the function does it as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>: a pointer to the <a class="el" href="struct_game.html" title="Game structure. ">Game</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the last move has been uncanceled, 0 if there was no move to uncancel</dd></dl>
<p>Tests whether there is still moves that can be uncanceled. If so, increments the game cursor and plays the last move canceled </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 27 2015 07:09:21 for Othello Finale by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
